@import 'bootstrap/bootstrap';
@import 'calendar';

@outer-margin: 30px;
@body-gap: 80px; // distance from the top of the page, needed because the header is position:fixed
@sidebar-width: 200px;
@inbox-min-width: 500px;
@expanded-view-width: 400px;

html {
	height:100%;
}

body {
  font-family:ratio;
	height:100%;
}


body.drop {
	border: 2px solid rgba(82,168,236,.8);
	box-sizing:border-box;
}

.logo {
	font-family:"bebas-neue";
	letter-spacing:.02em;
	font-size:1.8em;
	color:#000;
	line-height:1.15em;
  position:absolute;
  right:35px;
  top:15px;
	height:50px;	
	background:url('/img/sticky-symbolx24.png') 0px 0px no-repeat;
	padding-left:30px;
}


.row-fluid .sidebar-wrapper.span2 {
	width: 14.529914530000001% + 2.564102564%;
    *width: 14.4767230406383% + 2.564102564%;
}


#new-sticky-header {
  border-top:2px solid rgb(171, 209, 75);
	background:rgba(255, 255, 255, 0.96);
  padding:10px;
  width:100%;
  position:fixed;
  z-index:99;
  border-bottom:1px solid #ccc;
  .box-shadow(0 1px 3px rgba(100, 100, 100, 0.2);
  input::-webkit-input-placeholder {
    color:#e0e0e0;
    font-weight:300;
  }
  input[type=text] {
    border:0;
    display:block;
    width:100%;
    font-size:1.6em;
    margin:0;
    line-height:1.2em;
    background:transparent;
    height:25px;
    font-family:ratio;
    .box-shadow(none);
    -webkit-appearance:none;
    &:focus {
      .box-shadow(none);
    }
  }
	form { margin:0; padding:0 }
}

.faux-hidden-top {
	height:@body-gap;
	width:100%;
	position:fixed;
	background:url('/img/texturetastic_gray.png');
	z-index:10;
}


.faux-hidden-bottom {
	height:@outer-margin;
	bottom:0;
	width:100%;
	position:fixed;
	background:url('/img/texturetastic_gray.png');
	z-index:10;
}

.unknown-group-link {
	color:#999;
	border-bottom:1px dashed #999;
	&:hover {
		text-decoration:none;
		color:#777;
	}
}


.backdrop {
	position:fixed;
	left:0;
	right:0;
	top:0;
	bottom:0;
	z-index:-1;
	background:url('/img/texturetastic_gray.png');
}

.main-wrapper {
  height:100%;
  padding:0;
  width:100%;
}

// Notebooks

.members {
	ul {
		margin:10px 0 25px 0;
		padding:0;
		list-style-type:none;
	}
	li {
		padding:5px;	
		&:nth-child(odd) {
			background-color:#f0f0f0;
		}
	}
	li.pending {
		font-style:italic;
	}
}

// Main

#main {
  padding:@body-gap 0 @outer-margin 0;
 	height:100%;
	min-height:500px;
  //min-width:900px;
  width:100%;
	display:table;

  #sidebar {
    box-shadow: inset -3px -3px 5px 0px rgba(0, 0, 0, 0.3);
    .border-radius(5px 0 0 5px);
    border-top:1px solid rgba(0, 0, 0, 0.15);
    border-left:1px solid rgba(0, 0, 0, 0.15);
    border-bottom:1px solid rgba(0, 0, 0, 0.15);
    box-sizing:border-box;
    #gradient > .vertical(#444, #555);
		width:@sidebar-width;
		display:table-cell;
    margin-left:@outer-margin;
    color:#fff;
		position:fixed;
		bottom:@outer-margin;
		z-index:10;
		top:@body-gap;
		vertical-align:top;
			
		.profile {
			padding:15px 20px 10px 20px;
			i {
				float:left;
			}
			.details {
				font-family:Helvetica Neue;
				color:#ccc;
				font-size:0.9em;
				margin-left:40px;
				a { color: #eee; }
			}
		}

		.date-picker {
			padding:0 10px;
			font-size:0.9em;
			position:absolute;
			bottom:0;
			background-color:rgba(0, 0, 0, 0.2);
			box-sizing:border-box;
			width:200px;
		}


		ul.sidebar-nav {
      list-style-type:none;
      margin:0;
      background-color:rgba(255, 255, 255, 0.1);
			padding:5px 0;
			li.add-notebook {
				a {
					font-size:0.9em;
					color:#999;
				}
			}
      li {
				position:relative;
      	padding:5px 10px;
        a {
					color:#f0f0f0;
        }
				i {
					position:absolute;
					right:10px;
				}
      }
    }

		.add-group {
			font-size:0.9em;
			display:block;
			padding:15px;
			color:#ccc;
		}

  }

	#stage {
		background-color:#fff;
		height:100%;
	}

  #inbox {
    padding-left:@sidebar-width + @outer-margin;
		padding-right:@expanded-view-width + @outer-margin - 2;
    box-sizing:border-box;
    //background:#fff url('/img/furley_bg.png');
    min-width:@inbox-min-width;
    height:100%;
		display:table-cell;
		vertical-align:top;
		position:relative;
		.inbox-controls {
			padding:10px;
			box-sizing:border-box;
			border-top:1px solid rgba(0, 0, 0, 0.15);
			height:55px;
			position:relative;
			z-index:9;
			border-bottom:1px solid rgba(0, 0, 0, 0.15);
			#gradient > .vertical(#fff, #eee);
			.btn-toolbar {
				margin:2px 0 0 0;
			}

			.search {
				width:200px;
				form {
					margin:0;
					padding:0;	
					float:none;
					input[name=keyword] {
						width:100%;
						line-height:1.6em;
						background-color:#fff;
						.border-radius(8px);
						padding:13px 8px;
						box-sizing:border-box;
					}
				}
			}
			span.icon-pound {
				font-family:Arial;
				font-weight:bold;
				font-size:1.3em;
				line-height:1.1em;
			}
		}
  }

  #expanded-view {
		width:@expanded-view-width;
    box-sizing:border-box;
		display:table-cell;
    background:#fff url('/img/furley_bg.png');
		vertical-align:top;
		border-top:1px solid rgba(0, 0, 0, 0.15);
		border-bottom:1px solid rgba(0, 0, 0, 0.15);
		border-right:1px solid rgba(0, 0, 0, 0.15);
		border-left:1px solid rgba(0, 0, 0, 0.15);
		position:fixed;
		top:@body-gap;
		right:@outer-margin;
		bottom:@outer-margin;
		float:right;
		margin-left:-@expanded-view-width;
    .border-radius(0 5px 5px 0);
		.expanded-actions {
			box-sizing:border-box;
			height:55px;
			padding:10px;
    	.border-radius(0 5px 0 0);
			border-bottom:1px solid rgba(0, 0, 0, 0.15);
			#gradient > .vertical(#fff, #eee);
			.btn-toolbar {
				margin:2px 0 0 0;
			}
			font-family:Helvetica Neue;
			a {
				height:28px;
				box-sizing:border-box;
			}
		}
		.expanded-note {
			border-bottom:1px solid rgba(0, 0, 0, 0.15);
			position:relative;
			z-index:10;
			background-color:#fff;
			#editable-message {
				padding:25px 15px;
				-webkit-appearance:none;
				white-space:pre-wrap;
				&:focus {
					outline:none;
					.box-shadow(none);
				}
		 	}
		}
		.timeline {
			list-style-type:none;
			padding:0;
			margin:0;
			position:relative;
			li {
				position:relative;
				margin:10px;
				background-color:#fff;
				border-bottom:1px solid #ccc;
				padding:10px 15px 10px 10px;
				.timestamp {
					color:#999;
					font-size:0.75em;
					font-family:Helvetica Neue;
					box-sizing:border-box;
					position:absolute;
					right:15px;
				}
			}
  	}
		#save-notice {
			float:right;
			color:@green;
			position:relative;
			top:15px;
			right:15px;
		}
	}
}


// Notes

ul.notes_board {
	margin:0;
	list-style-type:none;
	width:100%;
	.completed {
		text-decoration: line-through;
	}
	li.stack {
		border: 2px solid rgba(82,168,236,.8) !important;
		//.transition(border linear .2s);
	}
  li.card {
	  border-bottom:1px solid #e0e0e0;
		word-wrap: break-word;
		padding:5px 0;		
		display: inline-block;
		//border: 1px solid #ddd;
		//.box-shadow(0 1px 2px rgba(34, 25, 25, 0.4));
		font-size:1.1em;
		line-height:1.1em;
		box-sizing:border-box;
		word-wrap: break-word;
		position:relative;
		width:100%;
		.avatar {
			margin-right:15px;
		}
		&:hover {
			.sticky-action { display:inline-block; }
		}	
		.sticky-actions {
			position:absolute;
			top:10px;
			right:10px;
			.dnd {
				cursor:move;
			}
		}
		.delete {
			position:absolute;
			top:5px;
			right:5px;
			opacity:0.5;
		}
		.pole-position {
			padding-bottom:10px;
		}
		i.icon-time {
			position:absolute;
			right:11px;
			margin-top:-15px;
			opacity:0.5;
		}
		.message {
			padding:15px 25px 5px 15px;
			white-space:pre-line;
			i {
				position:absolute;
				right:0;
				top:2px;
				padding:0 2px;
			}
			input[type=checkbox] {
				margin-right:4px;
			}
			&:empty {
				padding:0 15px 15px 15px;
			}
		}
		.link {
			padding:5px 15px 5px 15px;
			img {
				margin-top:-3px;
				display:inline-block;
			}
		}
		.subnote {
			color:#777;
      position:relative;
			&:before {
				content:"";
				.border-radius(5px);
				height:5px;
				width:5px;
				border:1px solid #ccc;
				background-color:#fff;
				display:block;
				position:absolute;
				z-index:9;
				right:15px;
				top:10px;
			}
			.timeline-pole {
				width:1px;
				position:absolute;
				right:18px;
				background-color:#ccc;
				height:100%;
			}
			.message {
				padding:5px 15px;
			}
			.dnd {
				position:absolute;
				top:10px;
				right:12px;
				cursor:move;
				z-index:10;
			}
			&:hover {
				.dnd { display:block }
			}
		}
		.meta {
			width:100%;
			padding:5px 15px 10px 15px;
			font-size:0.8em;
			color:#999;
			font-family:Helvetica Neue;
			box-sizing:border-box;
			iframe {
				position:relative;
				top:7px;
				opacity:0.7;
				&:hover {
					opacity:1;
				}
			}
			.color-choice {
				.border-radius(4px);
				border:1px dashed #ccc;
				background-color:#fff;
				width:13px;
				height:13px;
				float:left;
				cursor:pointer;
				position:relative;
				top:2px;
			}

			.dashed { border:1px dashed #ccc; }
			.blue { border:0; background-color:@blue; }
			.green { border:0; background-color:@green; }
			.greenOlive { border:0; background-color:@greenOlive; }
			.teal { border:0; background-color:@teal; }
			.red { border:0; background-color:@red; }
			.orange { border:0; background-color:@orange; }
			.yellow { border:0; background-color:@yellow; }
			.pink { border:0; background-color:@pink; }
			.purple { border:0; background-color:@purple; }
			.gray { border:0; background-color:@gray; }
			.beige { border:0; background-color:@beige; }
			.blueDark { border:0; background-color:@blueDark; }
			.silver { border:0; background-color:@silver; }

			.dropdown-menu {
				.color-choice {
					margin-left:4px;
					top:0;
				}
			}
			
			.created_at {
				margin-right:2px;
				float:right;
			}
		}
	}	
}


// Modals

.modal {
	padding:20px;
	form {
		margin-bottom:0;	
	}
	.modal-header {
		.close {
			position:absolute;
			right:5px;
			top:5px;
		}
	}
	.modal-body {
		padding-bottom:0;
		textarea {
			width:100%;
			padding:5px;
			box-sizing:border-box;	
		}
		.controls {
			margin-bottom:15px;
		}
	}
	.modal-footer {
		text-align:left;
		margin:0;
		padding-top:0;
		
	}
}


#post_new_message {
	padding:10px;
	textarea {
		width:100%;
		display:block;
		height:80px;
		margin:0;
	}
	.modal-footer {
		padding-top:10px;
	}
	.is_parent {
		background-color:#f0f0f0;
		margin-top:10px;
		padding:5px;
		border:1px solid #e0e0e0;
		.border-radius(5px);
		color:#777;
		font-size:0.87em;
	}
	
	form {
		margin:0;
	}
}

.hash-tag {
	color:#999;
	&:hover {
		color:#777;
		text-decoration:none;
	}
}

i.icon-tweet {
	background:url('/img/glyphicons_392_twitter.png') no-repeat;
}



@import "./bootstrap/responsive.less";
@import 'web';

